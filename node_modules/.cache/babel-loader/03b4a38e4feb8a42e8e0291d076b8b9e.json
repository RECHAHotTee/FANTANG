{"remainingRequest":"C:\\Users\\Pipik\\Documents\\JINGDONGDAOJIA\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Pipik\\Documents\\JINGDONGDAOJIA\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\Pipik\\Documents\\JINGDONGDAOJIA\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\Pipik\\Documents\\JINGDONGDAOJIA\\src\\views\\shop\\Content.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Pipik\\Documents\\JINGDONGDAOJIA\\src\\views\\shop\\Content.vue","mtime":1607158761000},{"path":"C:\\Users\\Pipik\\Documents\\JINGDONGDAOJIA\\babel.config.js","mtime":1592841393000},{"path":"C:\\Users\\Pipik\\Documents\\JINGDONGDAOJIA\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Pipik\\Documents\\JINGDONGDAOJIA\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Pipik\\Documents\\JINGDONGDAOJIA\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Pipik\\Documents\\JINGDONGDAOJIA\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL1BpcGlrL0RvY3VtZW50cy9KSU5HRE9OR0RBT0pJQS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IHsgcmVhY3RpdmUsIHJlZiwgdG9SZWZzLCB3YXRjaEVmZmVjdCB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IHVzZVJvdXRlIH0gZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCB7IHVzZVN0b3JlIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IGdldCB9IGZyb20gJy4uLy4uL3V0aWxzL3JlcXVlc3QnOwppbXBvcnQgeyB1c2VDb21tb25DYXJ0RWZmZWN0IH0gZnJvbSAnLi4vLi4vZWZmZWN0cy9jYXJ0RWZmZWN0cyc7CnZhciBjYXRlZ29yaWVzID0gW3sKICBuYW1lOiAn5YWo6YOo5ZWG5ZOBJywKICB0YWI6ICdhbGwnCn0sIHsKICBuYW1lOiAn56eS5p2AJywKICB0YWI6ICdzZWNraWxsJwp9LCB7CiAgbmFtZTogJ+aWsOmynOawtOaenCcsCiAgdGFiOiAnZnJ1aXQnCn1dOyAvLyBUYWIg5YiH5o2i55u45YWz55qE6YC76L6RCgp2YXIgdXNlVGFiRWZmZWN0ID0gZnVuY3Rpb24gdXNlVGFiRWZmZWN0KCkgewogIHZhciBjdXJyZW50VGFiID0gcmVmKGNhdGVnb3JpZXNbMF0udGFiKTsKCiAgdmFyIGhhbmRsZVRhYkNsaWNrID0gZnVuY3Rpb24gaGFuZGxlVGFiQ2xpY2sodGFiKSB7CiAgICBjdXJyZW50VGFiLnZhbHVlID0gdGFiOwogIH07CgogIHJldHVybiB7CiAgICBjdXJyZW50VGFiOiBjdXJyZW50VGFiLAogICAgaGFuZGxlVGFiQ2xpY2s6IGhhbmRsZVRhYkNsaWNrCiAgfTsKfTsgLy8g5YiX6KGo5YaF5a6555u45YWz55qE6YC76L6RCgoKdmFyIHVzZUN1cnJlbnRMaXN0RWZmZWN0ID0gZnVuY3Rpb24gdXNlQ3VycmVudExpc3RFZmZlY3QoY3VycmVudFRhYiwgc2hvcElkKSB7CiAgdmFyIGNvbnRlbnQgPSByZWFjdGl2ZSh7CiAgICBsaXN0OiBbXQogIH0pOwoKICB2YXIgZ2V0Q29udGVudERhdGEgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBfcmVzdWx0JGRhdGE7CgogICAgICB2YXIgcmVzdWx0OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIGdldCgiL2FwaS9zaG9wLyIuY29uY2F0KHNob3BJZCwgIi9wcm9kdWN0cyIpLCB7CiAgICAgICAgICAgICAgICB0YWI6IGN1cnJlbnRUYWIudmFsdWUKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICBpZiAoKHJlc3VsdCA9PT0gbnVsbCB8fCByZXN1bHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3VsdC5lcnJubykgPT09IDAgJiYgcmVzdWx0ICE9PSBudWxsICYmIHJlc3VsdCAhPT0gdm9pZCAwICYmIChfcmVzdWx0JGRhdGEgPSByZXN1bHQuZGF0YSkgIT09IG51bGwgJiYgX3Jlc3VsdCRkYXRhICE9PSB2b2lkIDAgJiYgX3Jlc3VsdCRkYXRhLmxlbmd0aCkgewogICAgICAgICAgICAgICAgY29udGVudC5saXN0ID0gcmVzdWx0LmRhdGE7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKTsKCiAgICByZXR1cm4gZnVuY3Rpb24gZ2V0Q29udGVudERhdGEoKSB7CiAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9OwogIH0oKTsKCiAgd2F0Y2hFZmZlY3QoZnVuY3Rpb24gKCkgewogICAgZ2V0Q29udGVudERhdGEoKTsKICB9KTsKCiAgdmFyIF90b1JlZnMgPSB0b1JlZnMoY29udGVudCksCiAgICAgIGxpc3QgPSBfdG9SZWZzLmxpc3Q7CgogIHJldHVybiB7CiAgICBsaXN0OiBsaXN0CiAgfTsKfTsgLy8g6LSt54mp6L2m55u45YWz6YC76L6RCgoKdmFyIHVzZUNhcnRFZmZlY3QgPSBmdW5jdGlvbiB1c2VDYXJ0RWZmZWN0KCkgewogIHZhciBzdG9yZSA9IHVzZVN0b3JlKCk7CgogIHZhciBfdXNlQ29tbW9uQ2FydEVmZmVjdCA9IHVzZUNvbW1vbkNhcnRFZmZlY3QoKSwKICAgICAgY2FydExpc3QgPSBfdXNlQ29tbW9uQ2FydEVmZmVjdC5jYXJ0TGlzdCwKICAgICAgY2hhbmdlQ2FydEl0ZW1JbmZvID0gX3VzZUNvbW1vbkNhcnRFZmZlY3QuY2hhbmdlQ2FydEl0ZW1JbmZvOwoKICB2YXIgY2hhbmdlU2hvcE5hbWUgPSBmdW5jdGlvbiBjaGFuZ2VTaG9wTmFtZShzaG9wSWQsIHNob3BOYW1lKSB7CiAgICBzdG9yZS5jb21taXQoJ2NoYW5nZVNob3BOYW1lJywgewogICAgICBzaG9wSWQ6IHNob3BJZCwKICAgICAgc2hvcE5hbWU6IHNob3BOYW1lCiAgICB9KTsKICB9OwoKICB2YXIgY2hhbmdlQ2FydEl0ZW0gPSBmdW5jdGlvbiBjaGFuZ2VDYXJ0SXRlbShzaG9wSWQsIHByb2R1Y3RJZCwgaXRlbSwgbnVtLCBzaG9wTmFtZSkgewogICAgY2hhbmdlQ2FydEl0ZW1JbmZvKHNob3BJZCwgcHJvZHVjdElkLCBpdGVtLCBudW0pOwogICAgY2hhbmdlU2hvcE5hbWUoc2hvcElkLCBzaG9wTmFtZSk7CiAgfTsKCiAgdmFyIGdldFByb2R1Y3RDYXJ0Q291bnQgPSBmdW5jdGlvbiBnZXRQcm9kdWN0Q2FydENvdW50KHNob3BJZCwgcHJvZHVjdElkKSB7CiAgICB2YXIgX2NhcnRMaXN0JHNob3BJZCwgX2NhcnRMaXN0JHNob3BJZCRwcm9kLCBfY2FydExpc3Qkc2hvcElkJHByb2QyOwoKICAgIHJldHVybiAoY2FydExpc3QgPT09IG51bGwgfHwgY2FydExpc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfY2FydExpc3Qkc2hvcElkID0gY2FydExpc3Rbc2hvcElkXSkgPT09IG51bGwgfHwgX2NhcnRMaXN0JHNob3BJZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9jYXJ0TGlzdCRzaG9wSWQkcHJvZCA9IF9jYXJ0TGlzdCRzaG9wSWQucHJvZHVjdExpc3QpID09PSBudWxsIHx8IF9jYXJ0TGlzdCRzaG9wSWQkcHJvZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9jYXJ0TGlzdCRzaG9wSWQkcHJvZDIgPSBfY2FydExpc3Qkc2hvcElkJHByb2RbcHJvZHVjdElkXSkgPT09IG51bGwgfHwgX2NhcnRMaXN0JHNob3BJZCRwcm9kMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NhcnRMaXN0JHNob3BJZCRwcm9kMi5jb3VudCkgfHwgMDsKICB9OwoKICByZXR1cm4gewogICAgY2FydExpc3Q6IGNhcnRMaXN0LAogICAgY2hhbmdlQ2FydEl0ZW06IGNoYW5nZUNhcnRJdGVtLAogICAgZ2V0UHJvZHVjdENhcnRDb3VudDogZ2V0UHJvZHVjdENhcnRDb3VudAogIH07Cn07CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NvbnRlbnQnLAogIHByb3BzOiBbJ3Nob3BOYW1lJ10sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIHJvdXRlID0gdXNlUm91dGUoKTsKICAgIHZhciBzaG9wSWQgPSByb3V0ZS5wYXJhbXMuaWQ7CgogICAgdmFyIF91c2VUYWJFZmZlY3QgPSB1c2VUYWJFZmZlY3QoKSwKICAgICAgICBjdXJyZW50VGFiID0gX3VzZVRhYkVmZmVjdC5jdXJyZW50VGFiLAogICAgICAgIGhhbmRsZVRhYkNsaWNrID0gX3VzZVRhYkVmZmVjdC5oYW5kbGVUYWJDbGljazsKCiAgICB2YXIgX3VzZUN1cnJlbnRMaXN0RWZmZWN0ID0gdXNlQ3VycmVudExpc3RFZmZlY3QoY3VycmVudFRhYiwgc2hvcElkKSwKICAgICAgICBsaXN0ID0gX3VzZUN1cnJlbnRMaXN0RWZmZWN0Lmxpc3Q7CgogICAgdmFyIF91c2VDYXJ0RWZmZWN0ID0gdXNlQ2FydEVmZmVjdCgpLAogICAgICAgIGNoYW5nZUNhcnRJdGVtID0gX3VzZUNhcnRFZmZlY3QuY2hhbmdlQ2FydEl0ZW0sCiAgICAgICAgY2FydExpc3QgPSBfdXNlQ2FydEVmZmVjdC5jYXJ0TGlzdCwKICAgICAgICBnZXRQcm9kdWN0Q2FydENvdW50ID0gX3VzZUNhcnRFZmZlY3QuZ2V0UHJvZHVjdENhcnRDb3VudDsKCiAgICByZXR1cm4gewogICAgICBjYXRlZ29yaWVzOiBjYXRlZ29yaWVzLAogICAgICBjdXJyZW50VGFiOiBjdXJyZW50VGFiLAogICAgICBoYW5kbGVUYWJDbGljazogaGFuZGxlVGFiQ2xpY2ssCiAgICAgIGxpc3Q6IGxpc3QsCiAgICAgIHNob3BJZDogc2hvcElkLAogICAgICBjaGFuZ2VDYXJ0SXRlbTogY2hhbmdlQ2FydEl0ZW0sCiAgICAgIGNhcnRMaXN0OiBjYXJ0TGlzdCwKICAgICAgZ2V0UHJvZHVjdENhcnRDb3VudDogZ2V0UHJvZHVjdENhcnRDb3VudAogICAgfTsKICB9Cn07"},{"version":3,"mappings":"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","names":["reactive","ref","toRefs","watchEffect","useRoute","useStore","get","useCommonCartEffect","categories","name","tab","useTabEffect","currentTab","handleTabClick","value","useCurrentListEffect","shopId","content","list","getContentData","result","errno","data","length","useCartEffect","store","cartList","changeCartItemInfo","changeShopName","shopName","commit","changeCartItem","productId","item","num","getProductCartCount","productList","count","props","setup","route","params","id"],"sourceRoot":"","sources":["C:\\Users\\Pipik\\Documents\\JINGDONGDAOJIA\\src\\views\\shop\\Content.vue"],"sourcesContent":["<template>\n  <div class=\"content\">\n    <div class=\"category\">\n      <div\n        :class=\"{'category__item': true, 'category__item--active': currentTab === item.tab}\"\n        v-for=\"item in categories\"\n        :key=\"item.name\"\n        @click=\"() => handleTabClick(item.tab)\"\n      >\n        {{item.name}}\n      </div>\n    </div>\n    <div class=\"product\">\n      <div\n        class=\"product__item\"\n        v-for=\"item in list\"\n        :key=\"item._id\"\n      >\n        <img class=\"product__item__img\" :src=\"item.imgUrl\" />\n        <div class=\"product__item__detail\">\n          <h4 class=\"product__item__title\">{{item.name}}</h4>\n          <p class=\"product__item__sales\">月售 {{item.sales}} 件</p>\n          <p class=\"product__item__price\">\n            <span class=\"product__item__yen\">&yen;</span>{{item.price}}\n            <span class=\"product__item__origin\">&yen;{{item.oldPrice}}</span>\n          </p>\n        </div>\n        <div class=\"product__number\">\n          <span\n            class=\"product__number__minus iconfont\"\n            @click=\"() => { changeCartItem(shopId, item._id, item, -1, shopName) }\"\n          >&#xe691;</span>\n            {{getProductCartCount(shopId, item._id)}}\n          <span\n            class=\"product__number__plus iconfont\"\n            @click=\"() => { changeCartItem(shopId, item._id, item, 1, shopName) }\"\n          >&#xe668;</span>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { reactive, ref, toRefs, watchEffect } from 'vue'\nimport { useRoute } from 'vue-router'\nimport { useStore } from 'vuex'\nimport { get } from '../../utils/request'\nimport { useCommonCartEffect } from '../../effects/cartEffects'\n\nconst categories = [\n  { name: '全部商品', tab: 'all' },\n  { name:'秒杀', tab: 'seckill' },\n  { name: '新鲜水果', tab: 'fruit'}\n]\n\n// Tab 切换相关的逻辑\nconst useTabEffect = () => {\n  const currentTab = ref(categories[0].tab)\n  const handleTabClick = (tab) => {\n    currentTab.value = tab\n  }\n  return { currentTab, handleTabClick}\n}\n\n// 列表内容相关的逻辑\nconst useCurrentListEffect = (currentTab, shopId) => {\n  const content = reactive({ list: [] })\n  const getContentData = async () => {\n    const result = await get(`/api/shop/${shopId}/products`, {\n      tab: currentTab.value\n    })\n    if(result?.errno === 0 && result?.data?.length) {\n      content.list = result.data;\n    }\n  }\n  watchEffect(() => { getContentData() })\n  const { list } = toRefs(content)\n  return { list }\n}\n\n// 购物车相关逻辑\nconst useCartEffect = () => {\n  const store = useStore()\n  const { cartList, changeCartItemInfo } = useCommonCartEffect()\n  const changeShopName = (shopId, shopName) => {\n    store.commit('changeShopName', { shopId, shopName })\n  }\n  const changeCartItem = (shopId, productId, item, num, shopName) => {\n    changeCartItemInfo(shopId, productId, item, num)\n    changeShopName(shopId, shopName)\n  }\n  const getProductCartCount = (shopId, productId) => {\n    return cartList?.[shopId]?.productList?.[productId]?.count || 0\n  }\n  return { cartList, changeCartItem, getProductCartCount }\n}\n\nexport default {\n  name: 'Content',\n  props: ['shopName'],\n  setup() {\n    const route = useRoute()\n    const shopId = route.params.id\n    const { currentTab, handleTabClick } = useTabEffect()\n    const { list } = useCurrentListEffect(currentTab, shopId)\n    const { changeCartItem, cartList, getProductCartCount } = useCartEffect()\n    return {\n      categories, currentTab, handleTabClick, list,\n      shopId, changeCartItem, cartList, getProductCartCount\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../style/viriables.scss';\n@import '../../style/mixins.scss';\n.content {\n  display: flex;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 1.5rem;\n  bottom: .5rem;\n}\n.category {\n  overflow-y: scroll;\n  height: 100%;\n  width: .76rem;\n  background: $search-bgColor;\n  &__item {\n    line-height: .4rem;\n    text-align: center;\n    font-size: .14rem;\n    color: #333;\n    &--active {\n      background: $bgColor;\n    }\n  }\n}\n.product {\n  overflow-y: scroll;\n  flex: 1;\n  &__item {\n    position: relative;\n    display: flex;\n    padding: .12rem 0;\n    margin: 0 .16rem;\n    border-bottom: .01rem solid $content-bgColor;\n    &__detail {\n      overflow: hidden;\n    }\n    &__img {\n      width: .68rem;\n      height: .68rem;\n      margin-right: .16rem;\n    }\n    &__title {\n      margin: 0;\n      line-height: .2rem;\n      font-size: .14rem;\n      color: $content-fontcolor;\n      @include ellipsis;\n    }\n    &__sales {\n      margin: .06rem 0;\n      font-size: .12rem;\n      color: $content-fontcolor;\n    }\n    &__price {\n      margin: 0;\n      line-height: .2rem;\n      font-size: .14rem;\n      color: $hightlight-fontColor;\n    }\n    &__yen {\n      font-size: .12rem;\n    }\n    &__origin {\n      margin-left: .06rem;\n      line-height: .2rem;\n      font-size: .12rem;\n      color: $light-fontColor;\n      text-decoration: line-through;\n    }\n    .product__number {\n      position: absolute;\n      right: 0;\n      bottom: .12rem;\n      line-height: .18rem;\n      &__minus {\n        position:relative;\n        top: .02rem;\n        color: $medium-fontColor;\n        margin-right: .05rem;\n      }\n      &__plus {\n        position:relative;\n        top: .02rem;\n        color: $btn-bgColor;\n        margin-left: .05rem;\n      }\n    }\n  }\n  \n}\n</style>\n"]}]}
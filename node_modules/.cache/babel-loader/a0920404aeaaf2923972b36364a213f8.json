{"remainingRequest":"C:\\Users\\Pipik\\Documents\\JINGDONGDAOJIA\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Pipik\\Documents\\JINGDONGDAOJIA\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\Users\\Pipik\\Documents\\JINGDONGDAOJIA\\src\\effects\\addressEffect.js","dependencies":[{"path":"C:\\Users\\Pipik\\Documents\\JINGDONGDAOJIA\\src\\effects\\addressEffect.js","mtime":1607781829000},{"path":"C:\\Users\\Pipik\\Documents\\JINGDONGDAOJIA\\babel.config.js","mtime":1592841393000},{"path":"C:\\Users\\Pipik\\Documents\\JINGDONGDAOJIA\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Pipik\\Documents\\JINGDONGDAOJIA\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Pipik\\Documents\\JINGDONGDAOJIA\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL1BpcGlrL0RvY3VtZW50cy9KSU5HRE9OR0RBT0pJQS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IHsgdXNlU3RvcmUgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgZ2V0IH0gZnJvbSAnLi4vdXRpbHMvcmVxdWVzdCc7Cgp2YXIgdXNlQ29tbW9uQWRkcmVzc0VmZmVjdCA9IGZ1bmN0aW9uIHVzZUNvbW1vbkFkZHJlc3NFZmZlY3QoKSB7CiAgdmFyIHN0b3JlID0gdXNlU3RvcmUoKTsKCiAgdmFyIGdldEFkZHJlc3NMaXN0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKGZvcmNlVXBkYXRlKSB7CiAgICAgIHZhciBhZGRyZXNzTGlzdCwgX3Jlc3VsdCRkYXRhLCByZXN1bHQ7CgogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgYWRkcmVzc0xpc3QgPSBzdG9yZS5zdGF0ZS5hZGRyZXNzTGlzdDsKCiAgICAgICAgICAgICAgaWYgKCEoZm9yY2VVcGRhdGUgfHwgIWFkZHJlc3NMaXN0Lmxlbmd0aCkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gZ2V0KCcvYXBpL3VzZXIvYWRkcmVzcycpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgIGlmIChyZXN1bHQgIT09IG51bGwgJiYgcmVzdWx0ICE9PSB2b2lkIDAgJiYgKF9yZXN1bHQkZGF0YSA9IHJlc3VsdC5kYXRhKSAhPT0gbnVsbCAmJiBfcmVzdWx0JGRhdGEgIT09IHZvaWQgMCAmJiBfcmVzdWx0JGRhdGEubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICBzdG9yZS5jb21taXQoJ2NoYW5nZUFkZHJlc3NMaXN0JywgcmVzdWx0LmRhdGEpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSk7CgogICAgcmV0dXJuIGZ1bmN0aW9uIGdldEFkZHJlc3NMaXN0KF94KSB7CiAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9OwogIH0oKTsKCiAgcmV0dXJuIHsKICAgIGdldEFkZHJlc3NMaXN0OiBnZXRBZGRyZXNzTGlzdAogIH07Cn07CgpleHBvcnQgZGVmYXVsdCB1c2VDb21tb25BZGRyZXNzRWZmZWN0Ow=="},{"version":3,"sources":["C:/Users/Pipik/Documents/JINGDONGDAOJIA/src/effects/addressEffect.js"],"names":["useStore","get","useCommonAddressEffect","store","getAddressList","forceUpdate","addressList","state","length","result","data","commit"],"mappings":";;AAAA,SAASA,QAAT,QAAyB,MAAzB;AACA,SAASC,GAAT,QAAoB,kBAApB;;AAEA,IAAMC,sBAAsB,GAAG,SAAzBA,sBAAyB,GAAM;AACnC,MAAMC,KAAK,GAAGH,QAAQ,EAAtB;;AAEA,MAAMI,cAAc;AAAA,uEAAG,iBAAOC,WAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AACfC,cAAAA,WADe,GACDH,KAAK,CAACI,KAAN,CAAYD,WADX;;AAAA,oBAElBD,WAAW,IAAI,CAACC,WAAW,CAACE,MAFV;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAGEP,GAAG,CAAC,mBAAD,CAHL;;AAAA;AAGbQ,cAAAA,MAHa;;AAInB,kBAAGA,MAAH,aAAGA,MAAH,+BAAGA,MAAM,CAAEC,IAAX,yCAAG,aAAcF,MAAjB,EAAyB;AACvBL,gBAAAA,KAAK,CAACQ,MAAN,CAAa,mBAAb,EAAkCF,MAAM,CAACC,IAAzC;AACD;;AANkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAdN,cAAc;AAAA;AAAA;AAAA,KAApB;;AAUA,SAAO;AAAEA,IAAAA,cAAc,EAAdA;AAAF,GAAP;AACD,CAdD;;AAgBA,eAAeF,sBAAf","sourcesContent":["import { useStore } from 'vuex'\nimport { get } from '../utils/request'\n\nconst useCommonAddressEffect = () => {\n  const store = useStore()\n\n  const getAddressList = async (forceUpdate) => {\n    const addressList = store.state.addressList;\n    if(forceUpdate || !addressList.length) {\n      const result = await get('/api/user/address')\n      if(result?.data?.length) {\n        store.commit('changeAddressList', result.data)\n      }\n    }\n  }\n\n  return { getAddressList }\n}\n\nexport default useCommonAddressEffect"]}]}